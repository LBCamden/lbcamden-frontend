var N=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports);var U=N((O,x)=>{function B(t,n){if(window.NodeList.prototype.forEach)return t.forEach(n);for(var r=0;r<t.length;r++)n.call(window,t[r],r,t)}const D={minWidth:"40.0625em",desktop:"48em"};(function(t,n){typeof O=="object"&&typeof x<"u"?n():typeof define=="function"&&define.amd?define("GOVUKFrontend",n):n()})(void 0,function(){"use strict";(function(t){var n="Window"in this;n||typeof WorkerGlobalScope>"u"&&typeof importScripts!="function"&&function(r){r.constructor?r.Window=r.constructor:(r.Window=r.constructor=new Function("return function Window() {}")()).prototype=this}(this)}).call(typeof window=="object"&&window||typeof self=="object"&&self||typeof global=="object"&&global||{}),(function(t){var n="Document"in this;n||typeof WorkerGlobalScope>"u"&&typeof importScripts!="function"&&(this.HTMLDocument?this.Document=this.HTMLDocument:(this.Document=this.HTMLDocument=document.constructor=new Function("return function Document() {}")(),this.Document.prototype=document))}).call(typeof window=="object"&&window||typeof self=="object"&&self||typeof global=="object"&&global||{}),(function(t){var n="Element"in this&&"HTMLElement"in this;n||function(){if(window.Element&&!window.HTMLElement){window.HTMLElement=window.Element;return}window.Element=window.HTMLElement=new Function("return function Element() {}")();var r=document.appendChild(document.createElement("body")),s=r.appendChild(document.createElement("iframe")),h=s.contentWindow.document,u=Element.prototype=h.appendChild(h.createElement("*")),o={},e=function(c,d){var g=c.childNodes||[],y=-1,v,_,b;if(c.nodeType===1&&c.constructor!==Element){c.constructor=Element;for(v in o)_=o[v],c[v]=_}for(;b=d&&g[++y];)e(b,d);return c},a=document.getElementsByTagName("*"),i=document.createElement,l,p=100;u.attachEvent("onpropertychange",function(c){for(var d=c.propertyName,g=!o.hasOwnProperty(d),y=u[d],v=o[d],_=-1,b;b=a[++_];)b.nodeType===1&&(g||b[d]===v)&&(b[d]=y);o[d]=y}),u.constructor=Element,u.hasAttribute||(u.hasAttribute=function(d){return this.getAttribute(d)!==null});function m(){return p--||clearTimeout(l),document.body&&!document.body.prototype&&/(complete|interactive)/.test(document.readyState)?(e(document,!0),l&&document.body.prototype&&clearTimeout(l),!!document.body.prototype):!1}m()||(document.onreadystatechange=m,l=setInterval(m,25)),document.createElement=function(d){var g=i(String(d).toLowerCase());return e(g)},document.removeChild(r)}()}).call(typeof window=="object"&&window||typeof self=="object"&&self||typeof global=="object"&&global||{}),(function(t){var n="defineProperty"in Object&&function(){try{var r={};return Object.defineProperty(r,"test",{value:42}),!0}catch{return!1}}();n||function(r){var s=Object.prototype.hasOwnProperty("__defineGetter__"),h="Getters & setters cannot be defined on this javascript engine",u="A property cannot both have accessors and be writable or have a value";Object.defineProperty=function(e,a,i){if(r&&(e===window||e===document||e===Element.prototype||e instanceof Element))return r(e,a,i);if(e===null||!(e instanceof Object||typeof e=="object"))throw new TypeError("Object.defineProperty called on non-object");if(!(i instanceof Object))throw new TypeError("Property description must be an object");var l=String(a),p="value"in i||"writable"in i,m="get"in i&&typeof i.get,c="set"in i&&typeof i.set;if(m){if(m!=="function")throw new TypeError("Getter must be a function");if(!s)throw new TypeError(h);if(p)throw new TypeError(u);Object.__defineGetter__.call(e,l,i.get)}else e[l]=i.value;if(c){if(c!=="function")throw new TypeError("Setter must be a function");if(!s)throw new TypeError(h);if(p)throw new TypeError(u);Object.__defineSetter__.call(e,l,i.set)}return"value"in i&&(e[l]=i.value),e}}(Object.defineProperty)}).call(typeof window=="object"&&window||typeof self=="object"&&self||typeof global=="object"&&global||{}),(function(t){var n=function(r){if(!("Event"in r))return!1;if(typeof r.Event=="function")return!0;try{return new Event("click"),!0}catch{return!1}}(this);n||function(){var r={click:1,dblclick:1,keyup:1,keypress:1,keydown:1,mousedown:1,mouseup:1,mousemove:1,mouseover:1,mouseenter:1,mouseleave:1,mouseout:1,storage:1,storagecommit:1,textinput:1};if(typeof document>"u"||typeof window>"u")return;function s(u,o){for(var e=-1,a=u.length;++e<a;)if(e in u&&u[e]===o)return e;return-1}var h=window.Event&&window.Event.prototype||null;window.Event=Window.prototype.Event=function(o,e){if(!o)throw new Error("Not enough arguments");var a;if("createEvent"in document){a=document.createEvent("Event");var i=e&&e.bubbles!==t?e.bubbles:!1,l=e&&e.cancelable!==t?e.cancelable:!1;return a.initEvent(o,i,l),a}return a=document.createEventObject(),a.type=o,a.bubbles=e&&e.bubbles!==t?e.bubbles:!1,a.cancelable=e&&e.cancelable!==t?e.cancelable:!1,a},h&&Object.defineProperty(window.Event,"prototype",{configurable:!1,enumerable:!1,writable:!0,value:h}),"createEvent"in document||(window.addEventListener=Window.prototype.addEventListener=Document.prototype.addEventListener=Element.prototype.addEventListener=function(){var o=this,e=arguments[0],a=arguments[1];if(o===window&&e in r)throw new Error("In IE8 the event: "+e+" is not available on the window object. Please see https://github.com/Financial-Times/polyfill-service/issues/317 for more information.");o._events||(o._events={}),o._events[e]||(o._events[e]=function(i){var l=o._events[i.type].list,p=l.slice(),m=-1,c=p.length,d;for(i.preventDefault=function(){i.cancelable!==!1&&(i.returnValue=!1)},i.stopPropagation=function(){i.cancelBubble=!0},i.stopImmediatePropagation=function(){i.cancelBubble=!0,i.cancelImmediate=!0},i.currentTarget=o,i.relatedTarget=i.fromElement||null,i.target=i.target||i.srcElement||o,i.timeStamp=new Date().getTime(),i.clientX&&(i.pageX=i.clientX+document.documentElement.scrollLeft,i.pageY=i.clientY+document.documentElement.scrollTop);++m<c&&!i.cancelImmediate;)m in p&&(d=p[m],s(l,d)!==-1&&typeof d=="function"&&d.call(o,i))},o._events[e].list=[],o.attachEvent&&o.attachEvent("on"+e,o._events[e])),o._events[e].list.push(a)},window.removeEventListener=Window.prototype.removeEventListener=Document.prototype.removeEventListener=Element.prototype.removeEventListener=function(){var o=this,e=arguments[0],a=arguments[1],i;o._events&&o._events[e]&&o._events[e].list&&(i=s(o._events[e].list,a),i!==-1&&(o._events[e].list.splice(i,1),o._events[e].list.length||(o.detachEvent&&o.detachEvent("on"+e,o._events[e]),delete o._events[e])))},window.dispatchEvent=Window.prototype.dispatchEvent=Document.prototype.dispatchEvent=Element.prototype.dispatchEvent=function(o){if(!arguments.length)throw new Error("Not enough arguments");if(!o||typeof o.type!="string")throw new Error("DOM Events Exception 0");var e=this,a=o.type;try{if(!o.bubbles){o.cancelBubble=!0;var i=function(l){l.cancelBubble=!0,(e||window).detachEvent("on"+a,i)};this.attachEvent("on"+a,i)}this.fireEvent("on"+a,o)}catch{o.target=e;do o.currentTarget=e,"_events"in e&&typeof e._events[a]=="function"&&e._events[a].call(e,o),typeof e["on"+a]=="function"&&e["on"+a].call(e,o),e=e.nodeType===9?e.parentWindow:e.parentNode;while(e&&!o.cancelBubble)}return!0},document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&document.dispatchEvent(new Event("DOMContentLoaded",{bubbles:!0}))}))}()}).call(typeof window=="object"&&window||typeof self=="object"&&self||typeof global=="object"&&global||{})});(function(t,n){typeof O=="object"&&typeof x<"u"?n():typeof define=="function"&&define.amd?define("GOVUKFrontend",n):n()})(void 0,function(){"use strict";(function(t){var n="defineProperty"in Object&&function(){try{var r={};return Object.defineProperty(r,"test",{value:42}),!0}catch{return!1}}();n||function(r){var s=Object.prototype.hasOwnProperty("__defineGetter__"),h="Getters & setters cannot be defined on this javascript engine",u="A property cannot both have accessors and be writable or have a value";Object.defineProperty=function(e,a,i){if(r&&(e===window||e===document||e===Element.prototype||e instanceof Element))return r(e,a,i);if(e===null||!(e instanceof Object||typeof e=="object"))throw new TypeError("Object.defineProperty called on non-object");if(!(i instanceof Object))throw new TypeError("Property description must be an object");var l=String(a),p="value"in i||"writable"in i,m="get"in i&&typeof i.get,c="set"in i&&typeof i.set;if(m){if(m!=="function")throw new TypeError("Getter must be a function");if(!s)throw new TypeError(h);if(p)throw new TypeError(u);Object.__defineGetter__.call(e,l,i.get)}else e[l]=i.value;if(c){if(c!=="function")throw new TypeError("Setter must be a function");if(!s)throw new TypeError(h);if(p)throw new TypeError(u);Object.__defineSetter__.call(e,l,i.set)}return"value"in i&&(e[l]=i.value),e}}(Object.defineProperty)}).call(typeof window=="object"&&window||typeof self=="object"&&self||typeof global=="object"&&global||{}),(function(t){var n="bind"in Function.prototype;n||Object.defineProperty(Function.prototype,"bind",{value:function(s){var h=Array,u=Object,o=u.prototype,e=h.prototype,a=function(){},i=o.toString,l=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",p,m=Function.prototype.toString,c=function(S){try{return m.call(S),!0}catch{return!1}},d="[object Function]",g="[object GeneratorFunction]";p=function(S){if(typeof S!="function")return!1;if(l)return c(S);var M=i.call(S);return M===d||M===g};var y=e.slice,v=e.concat,_=e.push,b=Math.max,E=this;if(!p(E))throw new TypeError("Function.prototype.bind called on incompatible "+E);for(var A=y.call(arguments,1),T,P=function(){if(this instanceof T){var $=E.apply(this,v.call(A,y.call(arguments)));return u($)===$?$:this}else return E.apply(s,v.call(A,y.call(arguments)))},F=b(0,E.length-A.length),q=[],k=0;k<F;k++)_.call(q,"$"+k);return T=Function("binder","return function ("+q.join(",")+"){ return binder.apply(this, arguments); }")(P),E.prototype&&(a.prototype=E.prototype,T.prototype=new a,a.prototype=null),T}})}).call(typeof window=="object"&&window||typeof self=="object"&&self||typeof global=="object"&&global||{})});var G=32,H=1;function L(t){this.$module=t,this.debounceFormSubmitTimer=null}L.prototype.handleKeyDown=function(t){var n=t.target;n.getAttribute("role")==="button"&&t.keyCode===G&&(t.preventDefault(),n.click())};L.prototype.debounce=function(t){var n=t.target;if(n.getAttribute("data-prevent-double-click")==="true"){if(this.debounceFormSubmitTimer)return t.preventDefault(),!1;this.debounceFormSubmitTimer=setTimeout((function(){this.debounceFormSubmitTimer=null}).bind(this),H*1e3)}};L.prototype.init=function(){this.$module.addEventListener("keydown",this.handleKeyDown),this.$module.addEventListener("click",this.debounce)};function w(t){this.$module=t}w.prototype.init=function(){this.$module&&(window.addEventListener("hashchange",()=>this.showActiveGuide()),this.showActiveGuide({handleNotFound:!0}),this.$module.classList.add("lbcamden-guide-content--loaded"))};w.prototype.showActiveGuide=function({handleNotFound:t}={}){if(!this.$module)return;window.location.hash||window.history.replaceState(null,null,window.location.pathname+window.location.search);const n=this.getArticles(),r=this.getActiveItem();if(!(!t&&!r)){for(const s of n)this.setArticleVisibility(s,s===r);if(r){const s=this.getNotFoundArticle();this.setArticleVisibility(s,!1,{hiddenAttr:!0})}else{const s=this.getNotFoundArticle();this.setArticleVisibility(s,!0,{setContent:W,setHeading:R,setPagination:{next:n[0]},hiddenAttr:!0})}window.scrollTo({top:0,behavior:"instant"})}};w.prototype.setPagination=function({next:t,prev:n}){const[r,s]=this.getPaginationTargets();r.querySelector(".govuk-pagination__link-label").innerText=n&&j(n),s.querySelector(".govuk-pagination__link-label").innerText=t&&j(t),r.querySelector(".govuk-pagination__link").href=n&&`#${n.dataset.guideArticle}`,s.querySelector(".govuk-pagination__link").href=t&&`#${t.dataset.guideArticle}`,this.$module.classList.toggle("lbcamden-guide-content--prev",!!n),this.$module.classList.toggle("lbcamden-guide-content--next",!!t)};w.prototype.setArticleVisibility=function(t,n,{setPagination:r,setContent:s,setHeading:h,hiddenAttr:u}={}){const o=t.querySelector(".lbcamden-guide-content__item");if(n){const e=this.getArticles(),a=e.indexOf(t),i=e[a-1],l=e[a+1];if(o&&s&&(o.innerHTML=s),h){const p=t.querySelector("h2");p&&(p.innerText=h)}this.setPagination(r||{next:l,prev:i})}u?t.hidden=!n:t.classList.toggle("lbcamden-guide-content--hidden",!n)};w.prototype.getArticles=function(){return Array.from(this.$module.querySelectorAll("[data-guide-article]"))};w.prototype.getActiveItem=function(){const t=this.getArticles(),n=window.location.hash.substring(1);if(!n)return t[0];for(const r of t)if(r.dataset.guideArticle===n)return r};w.prototype.getPaginationTargets=function(){return[this.$module.querySelector(".govuk-pagination__prev"),this.$module.querySelector(".govuk-pagination__next")]};w.prototype.getNotFoundArticle=function(){return this.$module.querySelector("[data-guide-not-found]")};const R="Sorry, this content has been moved or deleted.",W="<p>Try navigating the topic or search the site.</p>";function j(t){const n=t.querySelector("[data-guide-heading]");return n&&n.innerText}function C(t){this.$module=t}C.prototype.init=function(){this.$module&&(window.addEventListener("hashchange",()=>this.updateActiveLink()),this.updateActiveLink({handleNotFound:!0}))};C.prototype.updateActiveLink=function({handleNotFound:t}={}){if(!t&&!this.$module.querySelector(`[href="${window.location.hash}"]`))return;const n=!window.location.hash||window.location.hash==="#";let r=0;for(const s of this.getLinks()){if(r===0&&n)s.classList.toggle(":active",!0);else{const h=new URL(s.href,window.location.href),u=!n&&h.href===window.location.href;s.classList.toggle(":active",u)}r+=1}};C.prototype.getLinks=function(){return this.$module.querySelectorAll(".govuk-link")};function f(t){this.$module=t,this.$navigationToggle=this.$module.querySelector(".lbcamden-header__navigation-top-toggle-button"),this.$navigationMenu=this.$module.querySelector(".lbcamden-header__navigation-items"),this.$searchToggle=this.$module.querySelector(".lbcamden-header__search-toggle-button"),this.$searchMenu=this.$module.querySelector(".lbcamden-header__search-items"),this.$emergencyBanner=this.$module.querySelector(".lbcamden-header__emergency-banner"),this.$buttons=this.$module.querySelectorAll("button[aria-controls][data-toggle-mobile-group][data-toggle-desktop-group]"),this.$menuButtons=this.$module.querySelectorAll(".lbcamden-header__navigation-item--with-children"),this.$phaseBanner=document.querySelector(".govuk-phase-banner"),this.$navContainer=this.$module.children[0],this.hiddenButtons=this.$module.querySelectorAll("button[hidden]"),this.$contentShiftContainer=this.$module.querySelector(".lbcamden-header__bar")||this.$module,this.menuOpen=!1,this.searchOpen=!1,this.lastWindowSize=null}f.prototype.init=function(){this.$module&&(this.$module.classList.add("js-module-initialised"),typeof window.matchMedia=="function"&&this.setupResponsiveChecks())};f.prototype.setupResponsiveChecks=function(){this.mql=window.matchMedia("(min-width: "+D.desktop+")"),this.mql.addListener(this.checkMode.bind(this)),this.checkMode()};f.prototype.checkMode=function(){this.mql.matches?(this.teardownMobileMenu(),this.setupDesktopMenu()):(this.teardownDesktopMenu(),this.setupMobileMenu())};f.prototype.setupMobileMenu=function(){this.setAttributes("mobile"),this.$navigationMenu!=null&&(this.$navigationToggle.boundMenuClick=this.handleMenuButtonClick.bind(this),this.$navigationToggle.addEventListener("click",this.$navigationToggle.boundMenuClick,!0)),this.$searchMenu!=null&&(this.$searchToggle.boundSearchClick=this.handleSearchButtonClick.bind(this),this.$searchToggle.addEventListener("click",this.$searchToggle.boundSearchClick,!0))};f.prototype.teardownMobileMenu=function(){this.unsetAttributes("mobile"),this.$navigationMenu!=null&&this.$navigationToggle.removeEventListener("click",this.$navigationToggle.boundMenuClick,!0),this.$searchMenu!=null&&this.$searchToggle.removeEventListener("click",this.$searchToggle.boundSearchClick,!0)};f.prototype.setupDesktopMenu=function(){this.setAttributes("desktop"),this.$searchMenu!=null&&(this.$searchToggle.boundSearchClick=this.handleSearchButtonClick.bind(this),this.$searchToggle.addEventListener("click",this.$searchToggle.boundSearchClick,!0))};f.prototype.teardownDesktopMenu=function(){this.unsetAttributes("desktop"),this.$navigationMenu!=null&&this.$navigationToggle.removeEventListener("click",this.$navigationToggle.boundMenuClick,!0),this.$searchMenu!=null&&this.$searchToggle.removeEventListener("click",this.$searchToggle.boundSearchClick,!0)};f.prototype.menuItemClick=function(t){let n=t.target.getAttribute("aria-controls");n==null?(n=t.target.parentNode.getAttribute("aria-controls"),t.target.parentNode.classList.toggle("lbcamden-header__open-button")):t.target.classList.toggle("lbcamden-header__open-button"),this.$module.querySelectorAll(".lbcamden-header__navigation-second-toggle-button:not([aria-controls="+n+"])").forEach(s=>s.classList.remove("lbcamden-header__open-button"));const r=document.getElementById(n);this.mql.matches===!0&&this.$module.querySelectorAll(".lbcamden-header__navigation-dropdown-menu:not(#"+n+")").forEach(s=>s.setAttribute("hidden",!0)),document.getElementById(n).getAttribute("hidden")!=null?document.getElementById(n).removeAttribute("hidden"):document.getElementById(n).setAttribute("hidden","true"),this.mql.matches===!0&&this.menuContentShift(r.offsetHeight),this.$searchMenu!=null&&this.closeSearch(this.$searchToggle,this.$searchMenu)};f.prototype.menuContentShift=function(t){this.$emergencyBanner?this.$emergencyBanner.style.marginTop=t+"px":this.$contentShiftContainer.style.marginBottom=t+"px"};f.prototype.setAttributes=function(t){t==="mobile"&&this.$navigationMenu!=null&&(this.$navigationToggle.removeAttribute("hidden"),this.$navigationToggle.setAttribute("aria-expanded",!1),this.$navigationMenu.setAttribute("hidden",!0)),this.$searchMenu!=null&&(this.$searchMenu.setAttribute("hidden",!0),this.$searchToggle.setAttribute("aria-expanded",!1),this.$searchToggle.setAttribute("aria-label","Show search menu"),this.$module.querySelector(".lbcamden-header__search-item-link").setAttribute("hidden",!0),this.$module.querySelector(".lbcamden-header__search-and-popular").removeAttribute("hidden"),this.$searchToggle.removeAttribute("hidden")),B(this.$menuButtons,(function(n){n.querySelector(".lbcamden-header__navigation-item-link").setAttribute("hidden",!0),n.querySelector(".lbcamden-header__navigation-second-toggle-button").removeAttribute("hidden"),n.boundMenuItemClick=this.menuItemClick.bind(this),n.querySelector("button").addEventListener("click",n.boundMenuItemClick,!0)}).bind(this))};f.prototype.unsetAttributes=function(t){t==="mobile"&&(this.$navigationMenu!=null&&(this.$navigationToggle.setAttribute("hidden",!0),this.$navigationMenu.removeAttribute("hidden")),this.$searchMenu!=null&&(this.$searchToggle.setAttribute("hidden",!0),this.$searchMenu.removeAttribute("hidden"))),this.$module.style.marginBottom="0px",this.searchOpen=!1,this.menuOpen=!1,this.$navigationMenu!=null&&this.closeDesktopMenus(),this.$searchMenu!=null&&this.$searchToggle.classList.remove("lbcamden-header__open-button"),B(this.$menuButtons,function(n){n.querySelector("button").removeEventListener("click",n.boundMenuItemClick,!0)})};f.prototype.handleMenuButtonClick=function(){this.menuOpen===!0?this.closeMenu(this.$navigationToggle,this.$navigationMenu):this.openMenu(this.$navigationToggle,this.$navigationMenu)};f.prototype.handleSearchButtonClick=function(){this.searchOpen===!0?(this.closeSearch(this.$searchToggle,this.$searchMenu),this.mql.matches===!0&&(this.$module.style.marginBottom="0",this.menuContentShift(0))):(this.openSearch(this.$searchToggle,this.$searchMenu),this.mql.matches===!0&&this.menuContentShift(this.$searchMenu.offsetHeight))};f.prototype.openMenu=function(t,n){this.menuOpen=!0,t.classList.add("lbcamden-header__open-button"),t.setAttribute("aria-expanded",!0),t.setAttribute("aria-label","Hide navigation menu"),t.classList.add("lbcamden-header__open-button"),n.removeAttribute("hidden"),this.$searchMenu!=null&&this.closeSearch(this.$searchToggle,this.$searchMenu)};f.prototype.closeMenu=function(t,n){this.menuOpen=!1,this.menuContentShift(0),this.$navigationMenu!=null&&(t.classList.remove("lbcamden-header__open-button"),t.setAttribute("aria-expanded",!1),t.setAttribute("aria-label","Show navigation menu"),t.classList.remove("lbcamden-header__open-button"),n.setAttribute("hidden",!0))};f.prototype.closeDesktopMenus=function(){this.$module.querySelectorAll(".lbcamden-header__navigation-dropdown-menu").forEach(t=>t.setAttribute("hidden",!0))};f.prototype.openSearch=function(t,n){this.searchOpen=!0,t.setAttribute("aria-expanded",!0),t.setAttribute("aria-label","Hide navigation menu"),this.$module.querySelectorAll(".lbcamden-header__open-button").forEach(r=>r.classList.remove("lbcamden-header__open-button")),t.classList.add("lbcamden-header__open-button"),n.style.top=this.$navContainer.offsetHeight+"px",n.removeAttribute("hidden"),this.mql.matches!==!0?this.closeMenu(this.$navigationToggle,this.$navigationMenu):this.closeDesktopMenus()};f.prototype.closeSearch=function(t,n){this.searchOpen=!1,t.setAttribute("aria-expanded",!1),t.setAttribute("aria-label","Show navigation menu"),t.classList.remove("lbcamden-header__open-button"),n.setAttribute("hidden",!0)}});export default U();
